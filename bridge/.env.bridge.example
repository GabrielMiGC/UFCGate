# ========================================
# CONFIGURAÇÕES DO SERIAL BRIDGE
# ========================================
# Este arquivo deve ser copiado para .env na máquina que está
# fisicamente conectada ao Arduino via USB (sensor biométrico).
#
# O serial_bridge.py lê estas variáveis para:
# 1. Conectar-se ao Arduino pela porta serial
# 2. Receber comandos do servidor Django
# 3. Enviar eventos de leitura biométrica para o Django
# ========================================

# --- COMUNICAÇÃO SERIAL (Arduino) ---
# Porta serial onde o Arduino está conectado
# Windows: COM3, COM4, COM5, etc.
# Linux/Mac: /dev/ttyUSB0, /dev/ttyACM0, /dev/cu.usbserial, etc.
SERIAL_PORT=COM5

# Taxa de transmissão (baud rate) - deve corresponder ao configurado no Arduino
# Valor padrão do código Arduino: 9600
SERIAL_BAUD=9600


# --- COMUNICAÇÃO COM O SERVIDOR DJANGO ---
# URL completa da API do Django que recebe eventos de leitura biométrica
# Quando o sensor encontra uma digital, o bridge envia os dados para esta URL
# 
# Exemplos:
# - Se Django roda na mesma máquina: http://localhost:8000/api/log_access/
# - Se Django roda em outra máquina na rede: http://192.168.1.100:8000/api/log_access/
# - Se Django roda no Docker: http://host.docker.internal:8000/api/log_access/
# - Se usando Docker Compose: http://web:8000/api/log_access/
LOG_ACCESS_URL=http://localhost:8000/api/log_access/


# --- SERVIDOR FLASK (Recebe comandos do Django) ---
# Porta onde o Flask vai escutar por comandos vindos do servidor Django
# O Django enviará comandos para: http://<ip_desta_maquina>:BRIDGE_PORT/command
# 
# Porta padrão: 8081 (não conflita com o Django que usa 8000)
BRIDGE_PORT=8081


# ========================================
# NOTAS IMPORTANTES:
# ========================================
# 
# 1. FIREWALL: Certifique-se de que a porta BRIDGE_PORT está aberta
#    no firewall para receber comandos do servidor Django.
#
# 2. IP DA MÁQUINA: O servidor Django precisa saber o IP desta máquina.
#    Configure a variável BRIDGE_API_URL no .env do Django:
#    BRIDGE_API_URL=http://<ip_desta_maquina>:8081/command
#    Exemplo: BRIDGE_API_URL=http://192.168.1.50:8081/command
#
# 3. TESTE DE CONEXÃO: Você pode testar se o bridge está acessível:
#    curl http://<ip_desta_maquina>:8081/health
#
# 4. MESMA MÁQUINA: Se Django e Bridge rodarem na mesma máquina:
#    - LOG_ACCESS_URL=http://localhost:8000/api/log_access/
#    - No Django: BRIDGE_API_URL=http://localhost:8081/command
#
# 5. MÁQUINAS DIFERENTES (recomendado para produção):
#    Máquina A (Django):
#      - BRIDGE_API_URL=http://192.168.1.50:8081/command
#    
#    Máquina B (Bridge + Arduino):
#      - LOG_ACCESS_URL=http://192.168.1.100:8000/api/log_access/
#      - BRIDGE_PORT=8081
#
# ========================================
